{
    "$id": "https://github.com/chromeos/digital-datasheets/blob/main/part-spec/power.json",
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "title": "power",
    "oneOf": [
        {
            "title": "switching regulator",
            "type": "object",
            "required": [
                "componentID",
                "regulatorTopology",
                "vinMin",
                "vinMax",
                "voutMin",
                "voutMax",
                "maxLoadCurrent"
            ],
            "properties": {
                "componentID": {
                    "description": "common component identifying information, such as mpn",
                    "$ref": "definitions.json#/componentID"
                },
                "regulatorTopology": {
                    "description": "switching voltage regulator topology",
                    "examples": [
                        "buck",
                        "boost",
                        "buck-boost",
                        "other"
                    ],
                    "type": "string"
                },
                "vinTyp": {
                    "description": "typical input voltage under which a device can be expected to operate without output dropping",
                    "comment": "units of volts",
                    "$ref": "definitions.json#/unit"
                },
                "vinMin": {
                    "description": "minimum input voltage under which a device can be expected to operate without output dropping",
                    "comment": "units of volts",
                    "$ref": "definitions.json#/unit"
                },
                "vinMax": {
                    "description": "maximum input voltage under which a device can be expected to operate without output dropping",
                    "comment": "units of volts",
                    "$ref": "definitions.json#/unit"
                },
                "voutTyp": {
                    "description": "typical output voltage a device can regulate",
                    "comment": "units of volts",
                    "$ref": "definitions.json#/unit"
                },
                "voutMin": {
                    "description": "minimum output voltage a device can regulate",
                    "comment": "units of volts",
                    "$ref": "definitions.json#/unit"
                },
                "voutMax": {
                    "description": "maximum output voltage a device can regulate",
                    "comment": "units of volts",
                    "$ref": "definitions.json#/unit"
                },
                "feedbackVoltageTyp": {
                    "description": "typical voltage comparison point at the feedback node",
                    "comment": "units of volts",
                    "$ref": "definitions.json#/unit"
                },
                 "feedbackVoltageMax": {
                    "description": "max voltage comparison point at the feedback node",
                    "comment": "units of volts",
                    "$ref": "definitions.json#/unit"
                },
                 "feedbackVoltageMin": {
                    "description": "minimum voltage comparison point at the feedback node",
                    "comment": "units of volts",
                    "$ref": "definitions.json#/unit"
                },
                "LoadCurrentTyp": {
                    "description": "typical load current supported by a device",
                    "comment": "units of amps",
                    "$ref": "definitions.json#/unit"
                },
                "LoadCurrentMax": {
                    "description": "maximum load current supported by a device",
                    "comment": "units of amps",
                    "$ref": "definitions.json#/unit"
                },
                "LoadCurrentMin": {
                    "description": "minimum load current supported by a device",
                    "comment": "units of amps",
                    "$ref": "definitions.json#/unit"
                },
                "voutAccuracyTyp": {
                    "description": "typical output voltage variation at no load",
                    "$ref": "definitions.json#/unit"
                },
                "voutAccuracyMax": {
                    "description": "maximum output voltage variation at no load",
                    "$ref": "definitions.json#/unit"
                },
                "voutAccuracyMin": {
                    "description": "minimum output voltage variation at no load",
                    "$ref": "definitions.json#/unit"
                },
                "loadRegulationTyp": {
                    "description": "typical output voltage variation from no load to full load ",
                    "$ref": "definitions.json#/unit"
                },
                 "loadRegulationMax": {
                    "description": "maximum output voltage variation from no load to full load ",
                    "$ref": "definitions.json#/unit"
                },
                 "loadRegulationMin": {
                    "description": "minimum output voltage variation from no load to full load ",
                    "$ref": "definitions.json#/unit"
                },
                "lineRegulationTyp": {
                    "description": "typical output voltage variation from minimum input voltage to maximum input voltage ",
                    "$ref": "definitions.json#/unit"
                },
                "lineRegulationMax": {
                    "description": "maximum output voltage variation from minimum input voltage to maximum input voltage ",
                    "$ref": "definitions.json#/unit"
                },
                "lineRegulationMin": {
                    "description": "minimum output voltage variation from minimum input voltage to maximum input voltage ",
                    "$ref": "definitions.json#/unit"
                },
                "currentConsumption": {
                    "description": "current consumption of a device",
                    "type": "array",
                    "items": {
                        "$ref": "definitions.json#/currentConsumption"
                    }
                },
                "switchingFrequency": {
                    "description": "swtiching frequency (fsw) of voltage regulator",
                    "comment": "units of hertz",
                    "$ref": "definitions.json#/unit"
                },
                "enableTimeTyp": {
                    "description": "typical time between enable asserted and output voltage rising to 10% nominal",
                    "comment": "units of seconds",
                    "$ref": "definitions.json#/unit"
                },
                 "enableTimeMax": {
                    "description": "max time between enable asserted and output voltage rising to 10% nominal",
                    "comment": "units of seconds",
                    "$ref": "definitions.json#/unit"
                },
                 "enableTimeMin": {
                    "description": "minimum time between enable asserted and output voltage rising to 10% nominal",
                    "comment": "units of seconds",
                    "$ref": "definitions.json#/unit"
                },
                "rampTimeTyp": {
                    "description": "typical time for output voltage to go from 10% vout nominal to 90% vout nominal",
                    "comment": "units of seconds",
                    "$ref": "definitions.json#/unit"
                },
                "rampTimeMax": {
                    "description": "maximum time for output voltage to go from 10% vout nominal to 90% vout nominal",
                    "comment": "units of seconds",
                    "$ref": "definitions.json#/unit"
                },
                "rampTimeMin": {
                    "description": "minimum time for output voltage to go from 10% vout nominal to 90% vout nominal",
                    "comment": "units of seconds",
                    "$ref": "definitions.json#/unit"
                },
                "integratedFets": {
                    "description": "whether the regulator contains integrated switching mosfets",
                    "type": "boolean"
                },
                "integratedFetProperties": {
                    "description": "describes integrated fet current limits and rdson properties",
                    "$ref": "#/$defs/powerFetProperities"
                },
                "componentProtectionThresholds": {
                    "description": "Thermal and power supply protection thresholds of a device",
                    "type": "array",
                    "items": {
                        "$ref": "definitions.json#/componentProtectionThresholds"
                    }
                },
                "efficiency": {
                    "description": "power efficiency of regulator",
                    "$ref": "graph.json#/graphDefiniton"
                },
                "pins": {
                    "description": "array of pin objects with associated properties",
                    "type": "array",
                    "items": {
                        "$ref": "definitions.json#/pinSpec"
                    }
                },
                "package": {
                    "description": "component's package size and description",
                    "items": {
                        "$ref": "definitions.json#/package"
                    }
                }
            }
        },
        {
             "title": "ldo",
              "type": "object",
              "required": [
                "componentID",
                "vinMin",
                "vinMax",
                "voutMin",
                "voutMax",
                "maxLoadCurrent"
              ],
          "properties": {
            "componentID": {
              "description": "common component identifying information, such as mpn",
              "$ref": "definitions.json#/componentID"
            },
            "vinMin": {
              "description": "minimum input voltage under which the part can be expected to operate without the output dropping",
              "comment": "units of volts",
              "$ref": "definitions.json#/unit"
            },
            "vinMax": {
              "description": "maximum input voltage under which the part can be expected to operate without the output dropping",
              "comment": "units of volts",
              "$ref": "definitions.json#/unit"
            },
            "voutMin": {
              "description": "minimum output voltage the part can regulate",
              "comment": "units of volts",
              "$ref": "definitions.json#/unit"
            },
            "voutMax": {
              "description": "maximum output voltage the part can regulate",
              "comment": "units of volts",
              "$ref": "definitions.json#/unit"
            },
            "voutTyp": {
              "description": "typical output voltage the part can regulate",
              "comment": "units of volts",
              "$ref": "definitions.json#/unit"
            },
            "feedbackVoltageTyp": {
              "description": "typical voltage comparison point at the feedback node (vref)",
              "comment": "units of volts",
              "$ref": "definitions.json#/unit"
            },
            "feedbackVoltageMin": {
              "description": "minimum voltage comparison point at the feedback node (vref)",
              "comment": "units of volts",
              "$ref": "definitions.json#/unit"
            },
            "feedbackVoltageMax": {
              "description": "max voltage comparison point at the feedback node (vref)",
              "comment": "units of volts",
              "$ref": "definitions.json#/unit"
            },
            "dropoutVoltageTyp": {
              "description": "typical dropout voltage of a device",
              "comment": "units of volts",
              "type": "number"
            },
            "dropoutVoltageMin": {
              "description": "minimum dropout voltage of a device",
              "comment": "units of volts",
              "type": "number"
            },
            "dropoutVoltageMax": {
              "description": "maximum dropout voltage of a device",
              "comment": "units of volts",
              "type": "number"
            },
            "LoadCurrentMax": {
              "description": "maximum load current supported by a device",
              "comment": "units of amps",
              "$ref": "definitions.json#/unit"
            },
            "LoadCurrentMin": {
              "description": "minimum load current supported by a device",
              "comment": "units of amps",
              "$ref": "definitions.json#/unit"
            },
            "currentLimitTyp": {
              "description": "typical high sustained output current threshold beyond which the output of a device starts drooping",
              "comment": "units of amps",
              "$ref": "definitions.json#/unit"
            },
            "currentLimitMin": {
              "description": "minimum high sustained output current threshold beyond which the output of a device starts drooping",
              "comment": "units of amps",
              "$ref": "definitions.json#/unit"
            },
            "currentLimitMax": {
              "description": "maximum high sustained output current threshold beyond which the output of a device starts drooping",
              "comment": "units of amps",
              "$ref": "definitions.json#/unit"
            },
            "voutAccuracyTyp": {
              "description": "typical output voltage variation at no load of a device",
              "$ref": "definitions.json#/unit"
            },
            "voutAccuracyMin": {
              "description": "minimum output voltage variation at no load of a device",
              "$ref": "definitions.json#/unit"
            },
            "voutAccuracyMax": {
              "description": "maximum output voltage variation at no load of a device",
              "$ref": "definitions.json#/unit"
            },
            "loadRegulationTyp": {
              "description": "typical output voltage variation,from no load to full load, of a device ",
              "$ref": "definitions.json#/unit"
            },
            "loadRegulationMin": {
              "description": "minimum output voltage variation,from no load to full load, of a device ",
              "$ref": "definitions.json#/unit"
            },
            "loadRegulationMax": {
              "description": "maximum output voltage variation,from no load to full load, of a device ",
              "$ref": "definitions.json#/unit"
            },
            "lineRegulationTyp": {
              "description": "typical output voltage variation,from minimum input voltage to maximum input voltage, of a device ",
              "$ref": "definitions.json#/unit"
            },
            "lineRegulationMin": {
              "description": "minimum output voltage variation,from minimum input voltage to maximum input voltage, of a device ",
              "$ref": "definitions.json#/unit"
            },
            "lineRegulationMax": {
              "description": "maximum output voltage variation,from minimum input voltage to maximum input voltage, of a device ",
              "$ref": "definitions.json#/unit"
            },
            "enableTimeTyp": {
              "description": "typical time between enable asserted and output voltage rising to 10% nominal",
              "comment": "units of seconds",
              "$ref": "definitions.json#/unit"
            },
            "enableTimeMin": {
              "description": "minimum time between enable asserted and output voltage rising to 10% nominal",
              "comment": "units of seconds",
              "$ref": "definitions.json#/unit"
            },
            "enableTimeMax": {
              "description": "maximum time between enable asserted and output voltage rising to 10% nominal",
              "comment": "units of seconds",
              "$ref": "definitions.json#/unit"
            },
            "rampTimeTyp": {
              "description": "typical time for output voltage to go from 10% vout nominal to 90% vout nominal",
              "comment": "units of seconds",
              "$ref": "definitions.json#/unit"
            },
            "rampTimeMin": {
              "description": "minimum time for output voltage to go from 10% vout nominal to 90% vout nominal",
              "comment": "units of seconds",
              "$ref": "definitions.json#/unit"
            },
            "rampTimeMax": {
              "description": "maximum time for output voltage to go from 10% vout nominal to 90% vout nominal",
              "comment": "units of seconds",
              "$ref": "definitions.json#/unit"
            },
            "powerSupplyRejectionRatio": {
              "description": "graph object to capture Power Supply Rejection Ratio (PSRR) of device over various frequencies",
              "$ref": "definitions.json#/graphDefiniton"
            },
            "rmsOutputNoise": {
              "description": "graph object to capture RMS output noise of device over various frequencies",
              "$ref": "definitions.json#/graphDefiniton"
            },
            "totalOutputNoise": {
              "description": "total output noise of a device",
              "$ref": "definitions.json#/unit"
            },
            "currentConsumption": {
              "description": "current consumption of a device",
              "type": "array",
              "items": {
                "$ref": "definitions.json#/currentConsumption"
              }
            },
            "componentProtectionThresholds": {
              "description": "Thermal and power supply protection thresholds of a device",
              "type": "array",
              "items": {
                "$ref": "definitions.json#/componentProtectionThresholds"
              }
            },
            "pins": {
              "description": "array of pin objects with associated properties",
              "type": "array",
              "items": {
                "$ref": "definitions.json#/pinSpec"
              }
            },
            "package": {
              "description": "component's package size and description",
              "items": {
                "$ref": "definitions.json#/package"
              }
            }
          }
        }   
    ],
    "$defs": {
        "powerFetProperties": {
            "type": "object",
            "properties": {
                "ilimHSFET": {
                    "description": "maximum sustained current output current under which the high side FET will operate properly",
                    "comment": "units of amps",
                    "$ref": "definitions.json#/unit"
                },
                "ilimLSFET": {
                    "description": "maximum sustained current output current under which the low side FET will operate properly",
                    "comment": "units of amps",
                    "$ref": "definitions.json#/unit"
                },
                "rdsonHSFET": {
                    "description": "high side FET on-resistance",
                    "comment": "units of ohms",
                    "$ref": "definitions.json#/unit"
                },
                "rdsonLSFET": {
                    "description": "low side FET on-resistance",
                    "comment": "units of ohms",
                    "$ref": "definitions.json#/unit"
                }
            }
        }
    }
}
